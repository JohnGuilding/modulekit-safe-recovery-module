import { IERC165 } from "forge-std/interfaces/IERC165.sol";

address constant REGISTRY_ADDR = 0x500684cBaa280aDf80d5ACf7A32Daebb23162e63;

// Struct that represents an attestation.
struct AttestationRecord {
    bytes32 schemaUID; // The unique identifier of the schema.
    address subject; // The recipient of the attestation i.e. module
    address attester; // The attester/sender of the attestation.
    uint48 time; // The time when the attestation was created (Unix timestamp).
    uint48 expirationTime; // The time when the attestation expires (Unix timestamp).
    uint48 revocationTime; // The time when the attestation was revoked (Unix timestamp).
    address dataPointer; // SSTORE2 pointer to the attestation data.
}

// Struct that represents Module artefact.
struct ModuleRecord {
    bytes32 resolverUID; // The unique identifier of the resolver.
    address implementation; // The deployed contract address
    address sender; // The address of the sender who deployed the contract
    bytes data; // Additional data related to the contract deployment
}

struct ResolverRecord {
    IResolver resolver; // Optional schema resolver.
    address schemaOwner; // The address of the account used to register the schema.
}

interface IResolver is IERC165 {
    /**
     * @dev Returns whether the resolver supports ETH transfers.
     */
    function isPayable() external pure returns (bool);

    /**
     * @dev Processes an attestation and verifies whether it's valid.
     *
     * @param attestation The new attestation.
     *
     * @return Whether the attestation is valid.
     */
    function attest(AttestationRecord calldata attestation) external payable returns (bool);

    /**
     * @dev Processes a Module Registration
     *
     * @param module Module registration artefact
     *
     * @return Whether the registration is valid
     */
    function moduleRegistration(ModuleRecord calldata module) external payable returns (bool);

    /**
     * @dev Processes multiple attestations and verifies whether they are valid.
     *
     * @param attestations The new attestations.
     * @param values Explicit ETH amounts which were sent with each attestation.
     *
     * @return Whether all the attestations are valid.
     */
    function multiAttest(
        AttestationRecord[] calldata attestations,
        uint256[] calldata values
    )
        external
        payable
        returns (bool);

    /**
     * @dev Processes an attestation revocation and verifies if it can be revoked.
     *
     * @param attestation The existing attestation to be revoked.
     *
     * @return Whether the attestation can be revoked.
     */
    function revoke(AttestationRecord calldata attestation) external payable returns (bool);

    /**
     * @dev Processes revocation of multiple attestation and verifies they can be revoked.
     *
     * @param attestations The existing attestations to be revoked.
     * @param values Explicit ETH amounts which were sent with each revocation.
     *
     * @return Whether the attestations can be revoked.
     */
    function multiRevoke(
        AttestationRecord[] calldata attestations,
        uint256[] calldata values
    )
        external
        payable
        returns (bool);
}

interface IRegistry {
    function deploy(
        bytes calldata code,
        bytes calldata deployParams,
        bytes32 salt,
        bytes calldata data,
        bytes32 resolverUID
    )
        external
        payable
        returns (address moduleAddr);

    function deployC3(
        bytes calldata code,
        bytes calldata deployParams,
        bytes32 salt,
        bytes calldata data,
        bytes32 resolverUID
    )
        external
        payable
        returns (address moduleAddr);

    function deployViaFactory(
        address factory,
        bytes calldata callOnFactory,
        bytes calldata data,
        bytes32 resolverUID
    )
        external
        payable
        returns (address moduleAddr);

    function registerResolver(IResolver _resolver) external returns (bytes32);

    function getResolver(bytes32 uid) external view returns (ResolverRecord memory);

    function getModule(address moduleAddress) external view returns (ModuleRecord memory);
}

abstract contract ResolverBase is IResolver {
    error InsufficientValue();
    error NotPayable();
    error InvalidRS();
    error AccessDenied();

    // The version of the contract.
    string public constant VERSION = "0.1";

    // The global Rhinestone Registry contract.
    address internal immutable _rs;

    /**
     * @dev Creates a new resolver.
     *
     * @param rs The address of the global RS contract.
     */
    constructor(address rs) {
        if (rs == address(0)) {
            revert InvalidRS();
        }
        _rs = rs;
    }

    /**
     * @dev Ensures that only the RS contract can make this call.
     */
    modifier onlyRS() {
        _onlyRSRegistry();
        _;
    }

    /**
     * @inheritdoc IResolver
     */
    function isPayable() public pure virtual returns (bool) {
        return false;
    }

    /**
     * @dev ETH callback.
     */
    receive() external payable virtual {
        if (!isPayable()) {
            revert NotPayable();
        }
    }

    /**
     * @inheritdoc IResolver
     */
    function attest(AttestationRecord calldata attestation)
        external
        payable
        onlyRS
        returns (bool)
    {
        return onAttest(attestation, msg.value);
    }

    /**
     * @inheritdoc IResolver
     */
    function moduleRegistration(ModuleRecord calldata module)
        external
        payable
        onlyRS
        returns (bool)
    {
        return onModuleRegistration(module, msg.value);
    }

    /**
     * @inheritdoc IResolver
     */

    function multiAttest(
        AttestationRecord[] calldata attestations,
        uint256[] calldata values
    )
        external
        payable
        onlyRS
        returns (bool)
    {
        uint256 length = attestations.length;

        // We are keeping track of the remaining ETH amount that can be sent to resolvers and will keep deducting
        // from it to verify that there isn't any attempt to send too much ETH to resolvers. Please note that unless
        // some ETH was stuck in the contract by accident (which shouldn't happen in normal conditions), it won't be
        // possible to send too much ETH anyway.
        uint256 remainingValue = msg.value;

        for (uint256 i; i < length; i++) {
            // Ensure that the attester/revoker doesn't try to spend more than available.
            uint256 value = values[i];
            if (value > remainingValue) {
                revert InsufficientValue();
            }

            // Forward the attestation to the underlying resolver and revert in case it isn't approved.
            if (!onAttest(attestations[i], value)) {
                return false;
            }

            unchecked {
                // Subtract the ETH amount, that was provided to this attestation, from the global remaining ETH amount.
                remainingValue -= value;
            }
        }

        return true;
    }

    /**
     * @inheritdoc IResolver
     */
    function revoke(AttestationRecord calldata attestation)
        external
        payable
        onlyRS
        returns (bool)
    {
        return onRevoke(attestation, msg.value);
    }

    /**
     * @inheritdoc IResolver
     */
    function multiRevoke(
        AttestationRecord[] calldata attestations,
        uint256[] calldata values
    )
        external
        payable
        onlyRS
        returns (bool)
    {
        uint256 length = attestations.length;

        // We are keeping track of the remaining ETH amount that can be sent to resolvers and will keep deducting
        // from it to verify that there isn't any attempt to send too much ETH to resolvers. Please note that unless
        // some ETH was stuck in the contract by accident (which shouldn't happen in normal conditions), it won't be
        // possible to send too much ETH anyway.
        uint256 remainingValue = msg.value;

        for (uint256 i; i < length; i++) {
            // Ensure that the attester/revoker doesn't try to spend more than available.
            uint256 value = values[i];
            if (value > remainingValue) {
                revert InsufficientValue();
            }

            // Forward the revocation to the underlying resolver and revert in case it isn't approved.
            if (!onRevoke(attestations[i], value)) {
                return false;
            }

            unchecked {
                // Subtract the ETH amount, that was provided to this attestation, from the global remaining ETH amount.
                remainingValue -= value;
            }
        }

        return true;
    }

    /**
     * @dev A resolver callback that should be implemented by child contracts.
     *
     * @param attestation The new attestation.
     * @param value An explicit ETH amount that was sent to the resolver. Please note that this value is verified in
     * both attest() and multiAttest() callbacks RS-only callbacks and that in case of multi attestations, it'll
     * usually hold that msg.value != value, since msg.value aggregated the sent ETH amounts for all the attestations
     * in the batch.
     *
     * @return Whether the attestation is valid.
     */
    function onAttest(
        AttestationRecord calldata attestation,
        uint256 value
    )
        internal
        virtual
        returns (bool);

    /**
     * @dev Processes an attestation revocation and verifies if it can be revoked.
     *
     * @param attestation The existing attestation to be revoked.
     * @param value An explicit ETH amount that was sent to the resolver. Please note that this value is verified in
     * both revoke() and multiRevoke() callbacks RS-only callbacks and that in case of multi attestations, it'll
     * usually hold that msg.value != value, since msg.value aggregated the sent ETH amounts for all the attestations
     * in the batch.
     *
     * @return Whether the attestation can be revoked.
     */
    function onRevoke(
        AttestationRecord calldata attestation,
        uint256 value
    )
        internal
        virtual
        returns (bool);

    function onModuleRegistration(
        ModuleRecord calldata module,
        uint256 value
    )
        internal
        virtual
        returns (bool);

    /**
     * @dev Ensures that only the RS contract can make this call.
     */
    function _onlyRSRegistry() private view {
        if (msg.sender != _rs) {
            revert AccessDenied();
        }
    }

    function supportsInterface(bytes4 interfaceID) external pure returns (bool) {
        return interfaceID == this.supportsInterface.selector
            || interfaceID == this.isPayable.selector || interfaceID == this.attest.selector
            || interfaceID == this.moduleRegistration.selector
            || interfaceID == this.multiAttest.selector || interfaceID == this.revoke.selector
            || interfaceID == this.multiRevoke.selector;
    }
}

contract DebugResolver is ResolverBase {
    constructor(address rs) ResolverBase(rs) { }

    function onAttest(
        AttestationRecord calldata attestation,
        uint256 /*value*/
    )
        internal
        view
        override
        returns (bool)
    {
        return true;
    }

    function onRevoke(
        AttestationRecord calldata, /*attestation*/
        uint256 /*value*/
    )
        internal
        pure
        override
        returns (bool)
    {
        return true;
    }

    function onModuleRegistration(
        ModuleRecord calldata module,
        uint256 value
    )
        internal
        override
        returns (bool)
    {
        return true;
    }
}

// @note: this code needs to be deployed using create or create2
bytes constant RegistryCode =
    hex"61012060405260016003553480156200001757600080fd5b50306080524660a052600080620000636040805180820182526008815267526567697374727960c01b6020808301919091528251808401909352600383526218171960e91b9083015291565b815160209283012081519183019190912060c082905260e0819052604080517f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f8152938401929092529082015246606082015230608082015260a090206101005250620000cd9050565b60805160a05160c05160e05161010051614b8a6200011960003960008181613092015261327f01526000613808015260006137e201526000613771015260006137940152614b8a6000f3fe6080604052600436106101d85760003560e01c806398d986e011610102578063bdb7181611610095578063e77f3dfd11610064578063e77f3dfd1461056d578063ea6ec3de1461058d578063ed24911d146105d4578063feabe290146105e957600080fd5b8063bdb71816146104fa578063cd08fd8e1461050d578063d90486241461052d578063dcfb43a21461055a57600080fd5b8063b1285c8e116100d1578063b1285c8e14610467578063b3154db01461047a578063b5de8d4c1461049a578063b83010d3146104c757600080fd5b806398d986e0146103f45780639f3e1b5314610407578063a2ea7c6e14610427578063aec5e0f01461045457600080fd5b80633b32a1c21161017a578063622f913c11610149578063622f913c146103935780636a6fb3df146103a657806384b0196e146103b957806386069fd2146103e157600080fd5b80633b32a1c2146103085780633b9d6cde1461031b5780634315f99a1461034657806361e559791461036657600080fd5b80631d4d9810116101b65780631d4d9810146102655780632b30c899146102855780632d0335ab146102b257806333ba518a146102e857600080fd5b80630cd67b4e146101dd57806312b11a17146102105780631896f70a14610243575b600080fd5b3480156101e957600080fd5b506101fd6101f8366004613a62565b6105fc565b6040519081526020015b60405180910390f35b34801561021c57600080fd5b507fedcf357a2a19e382180b2eae2b58c407a5ac708d128bdc90fc30c3ba005391456101fd565b34801561024f57600080fd5b5061026361025e366004613aa3565b610641565b005b34801561027157600080fd5b506101fd610280366004613b1b565b6106b1565b34801561029157600080fd5b506102a56102a0366004613b89565b6107f7565b6040516102079190613ce6565b3480156102be57600080fd5b506101fd6102cd366004613cf9565b6001600160a01b031660009081526002602052604090205490565b3480156102f457600080fd5b506101fd610303366004613e10565b6108b4565b610263610316366004613ea1565b6108c9565b61032e610329366004613ee2565b610bf7565b6040516001600160a01b039091168152602001610207565b34801561035257600080fd5b50610263610361366004613f8c565b610d31565b34801561037257600080fd5b50610386610381366004613fe7565b610def565b6040516102079190614072565b6102636103a1366004613ea1565b610f93565b61032e6103b4366004614085565b611062565b3480156103c557600080fd5b506103ce611215565b604051610207979695949392919061415f565b6102636103ef366004613ea1565b611273565b6102636104023660046141c1565b6114ff565b34801561041357600080fd5b506101fd610422366004613cf9565b6116c3565b34801561043357600080fd5b506104476104423660046141fb565b6117c5565b6040516102079190614214565b610263610462366004613ea1565b6117f0565b610263610475366004614253565b6119d8565b34801561048657600080fd5b506101fd61049536600461428d565b611a58565b3480156104a657600080fd5b506104ba6104b5366004613cf9565b611b06565b60405161020791906142bb565b3480156104d357600080fd5b507f9773e49bbc47d491fae893cc858ed75be262b2466e1ffcadbf03b047493f19516101fd565b61026361050836600461431a565b611c03565b34801561051957600080fd5b50610386610528366004613fe7565b611c81565b34801561053957600080fd5b5061054d61054836600461428d565b611ddf565b604051610207919061434e565b61032e610568366004613ee2565b611e6c565b34801561057957600080fd5b506101fd61058836600461435c565b611fc3565b34801561059957600080fd5b506105ad6105a83660046141fb565b611ff6565b6040805182516001600160a01b039081168252602093840151169281019290925201610207565b3480156105e057600080fd5b506101fd61204e565b6102636105f73660046143ab565b61205d565b6001600160a01b03811660009081526002602052604081205481906106229060016143dd565b90506106388486600001518760200151846121a0565b95945050505050565b8161064b8161221d565b60008381526001602090815260409182902080546001600160a01b0319166001600160a01b038616908117825592519283529185917f8804a99908baee62844723e819277da0b84919147369b40055c696dcd60bea3b910160405180910390a250505050565b60008060405180606001604052806106c64290565b65ffffffffffff168152602001846001600160a01b0316815260200186868080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250505091525090506107258161225b565b60008181526020819052604090205490925065ffffffffffff161561075d5760405163119b4fd360e11b815260040160405180910390fd5b6000828152602081815260409182902083518154928501516001600160a01b0316600160301b026001600160d01b031990931665ffffffffffff909116179190911781559082015182919060018201906107b79082614472565b50506040513381528391507fd16733fb8c2a502f4e1d1d63970cbab355e37ff6d6d12a215b7d0197ea5535f49060200160405180910390a2509392505050565b8051606090806001600160401b0381111561081457610814613964565b60405190808252806020026020018201604052801561084d57816020015b61083a613928565b8152602001906001900390816108325790505b50915060005b818110156108ac5761087e8585838151811061087157610871614531565b6020026020010151611ddf565b83828151811061089057610890614531565b60200260200101819052506108a58160010190565b9050610853565b505092915050565b60006108c1848484612295565b949350505050565b6003546001146108f45760405162461bcd60e51b81526004016108eb90614547565b60405180910390fd5b6002600355803460006109668584838161091057610910614531565b9050602002810190610922919061456b565b61093090602081019061458b565b600081811061094157610941614531565b9050602002810190610953919061456b565b610961906020810190613cf9565b61231c565b604080516080810182528254815260018301546001600160a01b039081166020830152600284015416918101919091526003820180549192916060840191906109ae906143f0565b80601f01602080910402602001604051908101604052809291908181526020018280546109da906143f0565b8015610a275780601f106109fc57610100808354040283529160200191610a27565b820191906000526020600020905b815481529060010190602001808311610a0a57829003601f168201915b505050505081525050905060005b83811015610bea576000198401811436878784818110610a5757610a57614531565b9050602002810190610a69919061456b565b9050366000610a7b602084018461458b565b909250905080801580610a9c5750610a96604085018561458b565b90508114155b15610aba5760405163251f56a160e21b815260040160405180910390fd5b60005b81811015610b9f57610b97604051806080016040528087600001358152602001868685818110610aef57610aef614531565b9050602002810190610b01919061456b565b610b0a906145d4565b8152602001610b1f6080890160608a01613cf9565b6001600160a01b03168152602001610b3a604089018961458b565b85818110610b4a57610b4a614531565b9050602002810190610b5c91906145e0565b8080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152505050915250612339565b600101610abd565b508651600090610bc5908635908686610bbe60808b0160608c01613cf9565b8e8c6123be565b9050610bd1818a614626565b9850505050505050610be38160010190565b9050610a35565b5050600160035550505050565b6000600354600114610c1b5760405162461bcd60e51b81526004016108eb90614547565b60026003556000610c2b83611ff6565b60208101519091506001600160a01b0316610c5957604051631b68fd9560e21b815260040160405180910390fd5b60008a8a8a8a604051602001610c729493929190614639565b60408051601f19818403018152828252602083018a90526001600160601b03193360601b16918301919091529150600090605401604051602081830303815290604052805190602001209050610cc98183346125db565b9350610cd9843385888b8b61265c565b80846001600160a01b03167f15a8d94fb634b80d8d430ee02530a43e6317511bed9a6e18b2414bb89a0bd0df87604051610d1591815260200190565b60405180910390a3505060016003555098975050505050505050565b600354600114610d535760405162461bcd60e51b81526004016108eb90614547565b60026003556000610d6385611ff6565b60208101519091506001600160a01b0316610d9157604051631b68fd9560e21b815260040160405180910390fd5b610da08460008388878761265c565b836001600160a01b03167fc4efda57f1532d5ff464fda58afd4994b2ce0b7401b8e04de1d3a89de93eaeb786604051610ddb91815260200190565b60405180910390a250506001600355505050565b60608282811080610dfe575082155b15610e07578092505b42816001600160401b03811115610e2057610e20613964565b604051908082528060200260200182016040528015610e49578160200160208202803683370190505b50925060005b82811015610f6a576000610e8989898985818110610e6f57610e6f614531565b9050602002016020810190610e849190613cf9565b6127b1565b600381015490915065ffffffffffff1615610ec85760028101546040516310f3287f60e31b81526001600160a01b0390911660048201526024016108eb565b6002810154600160d01b900465ffffffffffff168015801590610eea57508381105b15610f085760405163120a2e7760e01b815260040160405180910390fd5b60028201548651600160a01b90910465ffffffffffff16908190889086908110610f3457610f34614531565b602090810291909101015280610f4c57505050610f62565b8715610f5e57610f5b8861465b565b97505b5050505b600101610e4f565b5083600003610f7a5750506108c1565b6040516339093e6560e21b815260040160405180910390fd5b600354600114610fb55760405162461bcd60e51b81526004016108eb90614547565b600260035580346000610fe385848381610fd157610fd1614531565b90506020028101906109229190614672565b905060005b83811015610bea57600019840181143687878481811061100a5761100a614531565b905060200281019061101c9190614672565b845490915060009061104090833590611038602086018661458b565b338b896123be565b905061104c8187614626565b955050505061105b8160010190565b9050610fe8565b60006003546001146110865760405162461bcd60e51b81526004016108eb90614547565b6002600355600061109683611ff6565b60208101519091506001600160a01b03166110c457604051631b68fd9560e21b815260040160405180910390fd5b600080896001600160a01b0316348a8a6040516110e2929190614688565b60006040518083038185875af1925050503d806000811461111f576040519150601f19603f3d011682016040523d82523d6000602084013e611124565b606091505b50915091508161114757604051637483e90760e01b815260040160405180910390fd5b8080602001905181019061115b9190614698565b93506001600160a01b03841661118457604051637483e90760e01b815260040160405180910390fd5b6001843b1515146111a857604051637483e90760e01b815260040160405180910390fd5b6111b6843385888b8b61265c565b896001600160a01b0316846001600160a01b03167fa4552dd058e341e923d0efb3545d8418df32228db939d3246ec9aafe2e3b8353876040516111fb91815260200190565b60405180910390a350506001600355509695505050505050565b600f60f81b60608060008080836112616040805180820182526008815267526567697374727960c01b6020808301919091528251808401909352600383526218171960e91b9083015291565b97989097965046955030945091925090565b6003546001146112955760405162461bcd60e51b81526004016108eb90614547565b6002600355348160006112f8858383816112b1576112b1614531565b90506020028101906112c3919061456b565b6112d19060208101906146b5565b60008181106112e2576112e2614531565b6109619260206060909202019081019150613cf9565b604080516080810182528254815260018301546001600160a01b03908116602083015260028401541691810191909152600382018054919291606084019190611340906143f0565b80601f016020809104026020016040519081016040528092919081815260200182805461136c906143f0565b80156113b95780601f1061138e576101008083540402835291602001916113b9565b820191906000526020600020905b81548152906001019060200180831161139c57829003601f168201915b505050505081525050905060005b82811015610bea576000198301811460008787848181106113ea576113ea614531565b90506020028101906113fc919061456b565b61140590614787565b602081015180519192509080158061142257508260600151518114155b156114405760405163251f56a160e21b815260040160405180910390fd5b60005b818110156114c3576114bb60405180608001604052808660000151815260200185848151811061147557611475614531565b6020026020010151815260200186604001516001600160a01b03168152602001866060015184815181106114ab576114ab614531565b60200260200101518152506127db565b600101611443565b506114de836000015187600001518486604001518c8961282b565b6114e89089614626565b9750505050506114f88160010190565b90506113c7565b6003546001146115215760405162461bcd60e51b81526004016108eb90614547565b60026003556115376115328261486c565b6127db565b604080516001808252818301909252600091816020015b604080516060810182526000808252602080830182905292820152825260001990920191018161154e57905050905061158f368390038301602084016148d4565b816000815181106115a2576115a2614531565b602002602001018190525060006115c88360200160000160208101906109619190613cf9565b604080516080810182528254815260018301546001600160a01b03908116602083015260028401541691810191909152600382018054919291606084019190611610906143f0565b80601f016020809104026020016040519081016040528092919081815260200182805461163c906143f0565b80156116895780601f1061165e57610100808354040283529160200191611689565b820191906000526020600020905b81548152906001019060200180831161166c57829003601f168201915b50505091909252505081519192506116b89185359150846116b060a0880160808901613cf9565b34600161282b565b505060016003555050565b60006001600160a01b0382166116ec57604051631b68fd9560e21b815260040160405180910390fd5b604080518082019091526001600160a01b03831681523360208201526117118161299c565b6000818152600160205260409020549092506001600160a01b03161561174a5760405163119b4fd360e11b815260040160405180910390fd5b600082815260016020818152604092839020845181546001600160a01b03199081166001600160a01b0392831617835586840151929094018054909416911617909155905133815283917f6e9a1e8208096d8743830b1db54115683584e42da14bccdc6a0a9fca61278fb1910160405180910390a250919050565b604080516060808201835260008083526020830152918101919091526117ea826129c3565b92915050565b6003546001146118125760405162461bcd60e51b81526004016108eb90614547565b600260035534600061183f8484838161182d5761182d614531565b90506020028101906112c39190614672565b604080516080810182528254815260018301546001600160a01b03908116602083015260028401541691810191909152600382018054919291606084019190611887906143f0565b80601f01602080910402602001604051908101604052809291908181526020018280546118b3906143f0565b80156119005780601f106118d557610100808354040283529160200191611900565b820191906000526020600020905b8154815290600101906020018083116118e357829003601f168201915b5050509190925250919250849150600090505b81811015610bea57600019820181143687878481811061193557611935614531565b90506020028101906119479190614672565b85519091506119b99082359061196060208501856146b5565b808060200260200160405190810160405280939291908181526020016000905b828210156119ac5761199d606083028601368190038101906148d4565b81526020019060010190611980565b5050505050338a8761282b565b6119c39087614626565b955050506119d18160010190565b9050611913565b6003546001146119fa5760405162461bcd60e51b81526004016108eb90614547565b600260035536611a0d602083018361456b565b90506000611a21610953602085018561456b565b8054909150600080611a368635848733612a32565b91509150611a4a8383836000346001612dfb565b505060016003555050505050565b600080611a6584846127b1565b6002810154909150600160d01b900465ffffffffffff168015801590611a8a57504281105b611aa7576002820154600160a01b900465ffffffffffff16611aaa565b60005b925082611aca5760405163120a2e7760e01b815260040160405180910390fd5b600382015465ffffffffffff16156108ac5760028201546040516310f3287f60e31b81526001600160a01b0390911660048201526024016108eb565b6040805160808101825260008082526020820181905291810191909152606080820152611b328261231c565b604080516080810182528254815260018301546001600160a01b03908116602083015260028401541691810191909152600382018054919291606084019190611b7a906143f0565b80601f0160208091040260200160405190810160405280929190818152602001828054611ba6906143f0565b8015611bf35780601f10611bc857610100808354040283529160200191611bf3565b820191906000526020600020905b815481529060010190602001808311611bd657829003601f168201915b5050505050815250509050919050565b600354600114611c255760405162461bcd60e51b81526004016108eb90614547565b6002600355611c3b611c36826148f0565b612339565b36611c49602083018361456b565b90506000611c5d610953602085018561456b565b8054909150600080611a3686358487611c7c60608b0160408c01613cf9565b612a32565b60608282811080611c90575082155b15611c99578092505b42816001600160401b03811115611cb257611cb2613964565b604051908082528060200260200182016040528015611cdb578160200160208202803683370190505b50925060005b82811015610f6a576000611d0189898985818110610e6f57610e6f614531565b60028101548651919250600160a01b900465ffffffffffff1690869084908110611d2d57611d2d614531565b6020908102919091010152600381015465ffffffffffff1615611d505750611dd7565b6002810154600160d01b900465ffffffffffff1660008115801590611d7457508482105b611d91576002830154600160a01b900465ffffffffffff16611d94565b60005b905080878581518110611da957611da9614531565b602090810291909101015280611dc157505050611dd7565b8715611dd357611dd08861465b565b97505b5050505b600101611ce1565b611de7613928565b611df183836127b1565b6040805160e0810182528254815260018301546001600160a01b03908116602083015260028401548082169383019390935265ffffffffffff600160a01b840481166060840152600160d01b9093048316608083015260039093015491821660a0820152600160301b90910490911660c08201529392505050565b6000600354600114611e905760405162461bcd60e51b81526004016108eb90614547565b60026003556000611ea083611ff6565b60208101519091506001600160a01b0316611ece57604051631b68fd9560e21b815260040160405180910390fd5b611f5988888080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f8201169050808301925050505050505087348d8d8080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250929594939250506130399050565b50909250611f6d905082338386898961265c565b85826001600160a01b03167f15a8d94fb634b80d8d430ee02530a43e6317511bed9a6e18b2414bb89a0bd0df85604051611fa991815260200190565b60405180910390a350600160035598975050505050505050565b6001600160a01b0381166000908152600260205260408120548190611fe99060016143dd565b9050610638858583612295565b60408051808201825260008082526020808301829052835180850185528281528101829052848252600180825291849020845180860190955280546001600160a01b03908116865292015490911690830152906117ea565b6000612058613090565b905090565b60035460011461207f5760405162461bcd60e51b81526004016108eb90614547565b600260035560006120996109616040840160208501613cf9565b604080516080810182528254815260018301546001600160a01b039081166020830152600284015416918101919091526003820180549192916060840191906120e1906143f0565b80601f016020809104026020016040519081016040528092919081815260200182805461210d906143f0565b801561215a5780601f1061212f5761010080835404028352916020019161215a565b820191906000526020600020905b81548152906001019060200180831161213d57829003601f168201915b5050505050815250509050600061218983600001358460200180360381019061218391906148d4565b336130c9565b90506116b882600001518260006001346001612dfb565b604080517f9773e49bbc47d491fae893cc858ed75be262b2466e1ffcadbf03b047493f195160208201524691810191909152606081018590526001600160a01b038085166080830152831660a082015260c081018290526000906106389060e0015b6040516020818303038152906040528051906020012061327b565b600081815260016020819052604090912001546001600160a01b0316331461225857604051634ca8886760e01b815260040160405180910390fd5b50565b600081604001518260200151604051602001612278929190614970565b604051602081830303815290604052805190602001209050919050565b8251602080850151606080870151805190840120604080517fedcf357a2a19e382180b2eae2b58c407a5ac708d128bdc90fc30c3ba005391459581019590955246908501529083018690526001600160a01b03909316608083015265ffffffffffff1660a082015260c081019190915260e081018290526000906108c19061010001612202565b6001600160a01b03811660009081526005602052604081206117ea565b6020810151604082015160009061236d906001600160a01b0316600090815260026020526040902080546001019081905590565b9050600061238083856000015184612295565b9050600061239785604001518387606001516132dc565b9050806123b757604051638baa579f60e01b815260040160405180910390fd5b5050505050565b6000806123ca89613394565b805490915065ffffffffffff166123f457604051635f9bd90760e11b815260040160405180910390fd5b8054600160301b90046001600160a01b031680156124a1578154604051633b579db760e21b8152600160301b9091046001600160a01b03169063ed5e76dc90612443908b908b906004016149cb565b602060405180830381865afa158015612460573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906124849190614ac3565b6124a15760405163bd8ba84d60e01b815260040160405180910390fd5b866000816001600160401b038111156124bc576124bc613964565b6040519080825280602002602001820160405280156124f557816020015b6124e2613928565b8152602001906001900390816124da5790505b5090506000826001600160401b0381111561251257612512613964565b60405190808252806020026020018201604052801561253b578160200160208202803683370190505b50905060005b838110156125ba576125788e8e8e8e8581811061256057612560614531565b9050602002810190612572919061456b565b8d612a32565b84838151811061258a5761258a614531565b602002602001018484815181106125a3576125a3614531565b602090810291909101019190915252600101612541565b506125ca8c838360008c8c6133a7565b9d9c50505050505050505050505050565b60006f67363d3d37363d34f03d5260086018f3600052836010806000f58061260b5763301164256000526004601cfd5b8060145261d69460005260016034536017601e20915060008085516020870186855af1612640576319b991a86000526004601cfd5b50803b612655576319b991a86000526004601cfd5b9392505050565b6001600160a01b0386811660009081526005602052604090206001015416156126a3576040516345ed80e960e01b81526001600160a01b03871660048201526024016108eb565b853b6126c257604051637483e90760e01b815260040160405180910390fd5b60006040518060800160405280858152602001886001600160a01b03168152602001876001600160a01b0316815260200184848080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152505050915250855190915061273a90826136ab565b6001600160a01b0380881660009081526005602090815260409182902084518155908401516001820180549185166001600160a01b03199283161790559184015160028201805491909416921691909117909155606082015182919060038201906127a59082614472565b50505050505050505050565b6001600160a01b039182166000908152600460209081526040808320939094168252919091522090565b6020810151604082015160009061280f906001600160a01b0316600090815260026020526040902080546001019081905590565b90506000612380846000015184600001518560200151856121a0565b60008061283788613394565b805490915065ffffffffffff1661286157604051635f9bd90760e11b815260040160405180910390fd5b85516000816001600160401b0381111561287d5761287d613964565b6040519080825280602002602001820160405280156128b657816020015b6128a3613928565b81526020019060019003908161289b5790505b5090506000826001600160401b038111156128d3576128d3613964565b6040519080825280602002602001820160405280156128fc578160200160208202803683370190505b50905060005b8381101561297b5760008a828151811061291e5761291e614531565b602002602001015190506129338d828c6130c9565b84838151811061294557612945614531565b6020026020010181905250806040015183838151811061296757612967614531565b602090810291909101015250600101612902565b5061298b8a838360018b8b6133a7565b9450505050505b9695505050505050565b80516040516000916122789160200160609190911b6001600160601b031916815260140190565b60408051606080820183526000808352602083015291810191909152600082815260208181526040918290208251606081018452815465ffffffffffff81168252600160301b90046001600160a01b0316928101929092526001810180549293919291840191611b7a906143f0565b612a3a613928565b60004281612a4e6040870160208801614ae5565b65ffffffffffff1614158015612a83575065ffffffffffff8116612a786040870160208801614ae5565b65ffffffffffff1611155b15612aa1576040516308e8b93760e01b815260040160405180910390fd5b6000612ab06020870187613cf9565b90506000612abd8261231c565b60018101549091506001600160a01b0316612aeb5760405163bd8ba84d60e01b815260040160405180910390fd5b80548814612b0c5760405163bd8ba84d60e01b815260040160405180910390fd5b6000612b6487846040516001600160601b0319606083811b8216602084015284901b16603482015242604882015246606882015260009060880160405160208183030381529060405280519060200120905092915050565b90506000612bb4612b7860608b018b6145e0565b8080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250869250613752915050565b90506040518060e001604052808c8152602001856001600160a01b03168152602001896001600160a01b031681526020018665ffffffffffff1681526020018a6020016020810190612c069190614ae5565b65ffffffffffff168152602001600065ffffffffffff168152602001826001600160a01b03168152509650886040013595508660046000866001600160a01b03166001600160a01b0316815260200190815260200160002060008a6001600160a01b03166001600160a01b031681526020019081526020016000206000820151816000015560208201518160010160006101000a8154816001600160a01b0302191690836001600160a01b0316021790555060408201518160020160006101000a8154816001600160a01b0302191690836001600160a01b0316021790555060608201518160020160146101000a81548165ffffffffffff021916908365ffffffffffff160217905550608082015181600201601a6101000a81548165ffffffffffff021916908365ffffffffffff16021790555060a08201518160030160006101000a81548165ffffffffffff021916908365ffffffffffff16021790555060c08201518160030160066101000a8154816001600160a01b0302191690836001600160a01b03160217905550905050806001600160a01b0316886001600160a01b0316856001600160a01b03167ff68f1df3d74509783e9300e8637b046836c091fd39cdcd33b14b0ffdf6940d628e604051612de591815260200190565b60405180910390a4505050505094509492505050565b600080612e0788611ff6565b80519091506001600160a01b038116612e44578615612e3957604051631574f9f360e01b815260040160405180910390fd5b600092505050612992565b8615801590612eb25750806001600160a01b031663ce46e0466040518163ffffffff1660e01b8152600401602060405180830381865afa158015612e8c573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612eb09190614ac3565b155b15612ed057604051631574f9f360e01b815260040160405180910390fd5b84871115612ef15760405163044044a560e21b815260040160405180910390fd5b86850394508515612f8f5760405163258ad6f560e11b81526001600160a01b03821690634b15adea908990612f2a908c9060040161434e565b60206040518083038185885af1158015612f48573d6000803e3d6000fd5b50505050506040513d601f19601f82011682018060405250810190612f6d9190614ac3565b612f8a5760405163ccf3bb2760e01b815260040160405180910390fd5b61301d565b60405163b8015b0960e01b81526001600160a01b0382169063b8015b09908990612fbd908c9060040161434e565b60206040518083038185885af1158015612fdb573d6000803e3d6000fd5b50505050506040513d601f19601f820116820180604052508101906130009190614ac3565b61301d5760405163bd8ba84d60e01b815260040160405180910390fd5b831561302c5761302c8561375e565b5094979650505050505050565b6000806000808787604051602001613052929190614b00565b60408051601f198184030181529190528051602082018181209550919250879187f59350833b61308157600080fd5b833f9150509450945094915050565b7f00000000000000000000000000000000000000000000000000000000000000006130b961376e565b156130c6576120586137b9565b90565b6130d1613928565b82516001600160a01b0390811660009081526004602090815260408083208288015185168452909152902060038101549091600160301b909104166131295760405163c5723b5160e01b815260040160405180910390fd5b8054851461314a57604051635f9bd90760e11b815260040160405180910390fd5b60028101546001600160a01b0384811691161461317a57604051634ca8886760e01b815260040160405180910390fd5b600381015465ffffffffffff16156131a55760405163905e710760e01b815260040160405180910390fd5b60038101805465ffffffffffff19164265ffffffffffff16179055805460018201546040516001600160a01b038681169216907feee7de70b290c411a060d8bb9b1cba152a40d74147fef0974d7c2b25ac9b718a90600090a46040805160e0810182528254815260018301546001600160a01b03908116602083015260028401548082169383019390935265ffffffffffff600160a01b840481166060840152600160d01b9093048316608083015260039093015491821660a0820152600160301b90910490911660c082015290509392505050565b60007f00000000000000000000000000000000000000000000000000000000000000006132a661376e565b156132b6576132b36137b9565b90505b67190100000000000060005280601a5282603a52604260182091506000603a5250919050565b6001600160a01b0390921691600083156126555760405160418351036133455783600052606083015160001a60205260208301516040526040830151606052602060016080600060015afa805186183d151761334357506000606052604052506001612655565b505b600060605280604052631626ba7e60e01b808252846004830152602482016040815284516020018060448501828860045afa505060208160443d01858a5afa9051909114169150509392505050565b60008181526020819052604081206117ea565b845160009060018190036133ff576133f788886000815181106133cc576133cc614531565b6020026020010151886000815181106133e7576133e7614531565b6020026020010151888888612dfb565b915050612992565b600061340a89611ff6565b80519091506001600160a01b0381166134775760005b8381101561346a5788818151811061343a5761343a614531565b602002602001015160001461346257604051631574f9f360e01b815260040160405180910390fd5b600101613420565b5060009350505050612992565b6000805b848110156135625760008a828151811061349757613497614531565b60200260200101519050806000141580156135115750836001600160a01b031663ce46e0466040518163ffffffff1660e01b8152600401602060405180830381865afa1580156134eb573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061350f9190614ac3565b155b1561352f57604051631574f9f360e01b815260040160405180910390fd5b888111156135505760405163044044a560e21b815260040160405180910390fd5b9788900397919091019060010161347b565b5087156135fe57604051635af807df60e01b81526001600160a01b03831690635af807df908390613599908e908e90600401614b2f565b60206040518083038185885af11580156135b7573d6000803e3d6000fd5b50505050506040513d601f19601f820116820180604052508101906135dc9190614ac3565b6135f95760405163bf2f3a8b60e01b815260040160405180910390fd5b61368e565b604051636d4f554960e01b81526001600160a01b03831690636d4f554990839061362e908e908e90600401614b2f565b60206040518083038185885af115801561364c573d6000803e3d6000fd5b50505050506040513d601f19601f820116820180604052508101906136719190614ac3565b61368e5760405163e8bee83960e01b815260040160405180910390fd5b851561369d5761369d8761375e565b9a9950505050505050505050565b6001600160a01b0382166136bd575050565b604051634394aa9f60e11b81526001600160a01b03831690638729553e906136e99084906004016142bb565b6020604051808303816000875af1158015613708573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061372c9190614ac3565b151560000361374e57604051637483e90760e01b815260040160405180910390fd5b5050565b60006126558383613841565b801561225857612258338261388c565b467f000000000000000000000000000000000000000000000000000000000000000014307f000000000000000000000000000000000000000000000000000000000000000014161590565b604080517f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f81527f000000000000000000000000000000000000000000000000000000000000000060208201527f00000000000000000000000000000000000000000000000000000000000000009181019190915246606082015230608082015260a0902090565b60008251600181018060401b6bfd61000080600a3d393df3001761ffff821186015283600a8201601587016000f5925050816138855763301164256000526004601cfd5b9092525090565b804710156138af5760405163cd78605960e01b81523060048201526024016108eb565b6000826001600160a01b03168260405160006040518083038185875af1925050503d80600081146138fc576040519150601f19603f3d011682016040523d82523d6000602084013e613901565b606091505b505090508061392357604051630a12f52160e11b815260040160405180910390fd5b505050565b6040805160e081018252600080825260208201819052918101829052606081018290526080810182905260a0810182905260c081019190915290565b634e487b7160e01b600052604160045260246000fd5b604051608081016001600160401b038111828210171561399c5761399c613964565b60405290565b604051601f8201601f191681016001600160401b03811182821017156139ca576139ca613964565b604052919050565b6001600160a01b038116811461225857600080fd5b80356139f2816139d2565b919050565b600060608284031215613a0957600080fd5b604051606081018181106001600160401b0382111715613a2b57613a2b613964565b6040529050808235613a3c816139d2565b81526020830135613a4c816139d2565b6020820152604092830135920191909152919050565b600080600060a08486031215613a7757600080fd5b613a8185856139f7565b9250606084013591506080840135613a98816139d2565b809150509250925092565b60008060408385031215613ab657600080fd5b823591506020830135613ac8816139d2565b809150509250929050565b60008083601f840112613ae557600080fd5b5081356001600160401b03811115613afc57600080fd5b602083019150836020828501011115613b1457600080fd5b9250929050565b600080600060408486031215613b3057600080fd5b83356001600160401b03811115613b4657600080fd5b613b5286828701613ad3565b9094509250506020840135613a98816139d2565b60006001600160401b03821115613b7f57613b7f613964565b5060051b60200190565b60008060408385031215613b9c57600080fd5b8235613ba7816139d2565b91506020838101356001600160401b03811115613bc357600080fd5b8401601f81018613613bd457600080fd5b8035613be7613be282613b66565b6139a2565b81815260059190911b82018301908381019088831115613c0657600080fd5b928401925b82841015613c2d578335613c1e816139d2565b82529284019290840190613c0b565b80955050505050509250929050565b80518252602081015160018060a01b0380821660208501528060408401511660408501526060830151915065ffffffffffff80831660608601528060808501511660808601528060a08501511660a0860152508060c08401511660c085015250505050565b600081518084526020808501945080840160005b83811015613cdb57613cc8878351613c3c565b60e0969096019590820190600101613cb5565b509495945050505050565b6020815260006126556020830184613ca1565b600060208284031215613d0b57600080fd5b8135612655816139d2565b803565ffffffffffff811681146139f257600080fd5b600082601f830112613d3d57600080fd5b81356001600160401b03811115613d5657613d56613964565b613d69601f8201601f19166020016139a2565b818152846020838601011115613d7e57600080fd5b816020850160208301376000918101602001919091529392505050565b600060808284031215613dad57600080fd5b613db561397a565b90508135613dc2816139d2565b8152613dd060208301613d16565b60208201526040820135604082015260608201356001600160401b03811115613df857600080fd5b613e0484828501613d2c565b60608301525092915050565b600080600060608486031215613e2557600080fd5b83356001600160401b03811115613e3b57600080fd5b613e4786828701613d9b565b9660208601359650604090950135949350505050565b60008083601f840112613e6f57600080fd5b5081356001600160401b03811115613e8657600080fd5b6020830191508360208260051b8501011115613b1457600080fd5b60008060208385031215613eb457600080fd5b82356001600160401b03811115613eca57600080fd5b613ed685828601613e5d565b90969095509350505050565b60008060008060008060008060a0898b031215613efe57600080fd5b88356001600160401b0380821115613f1557600080fd5b613f218c838d01613ad3565b909a50985060208b0135915080821115613f3a57600080fd5b613f468c838d01613ad3565b909850965060408b0135955060608b0135915080821115613f6657600080fd5b50613f738b828c01613ad3565b999c989b50969995989497949560800135949350505050565b60008060008060608587031215613fa257600080fd5b843593506020850135613fb4816139d2565b925060408501356001600160401b03811115613fcf57600080fd5b613fdb87828801613ad3565b95989497509550505050565b60008060008060608587031215613ffd57600080fd5b8435614008816139d2565b935060208501356001600160401b0381111561402357600080fd5b61402f87828801613e5d565b9598909750949560400135949350505050565b600081518084526020808501945080840160005b83811015613cdb57815187529582019590820190600101614056565b6020815260006126556020830184614042565b6000806000806000806080878903121561409e57600080fd5b86356140a9816139d2565b955060208701356001600160401b03808211156140c557600080fd5b6140d18a838b01613ad3565b909750955060408901359150808211156140ea57600080fd5b506140f789828a01613ad3565b979a9699509497949695606090950135949350505050565b60005b8381101561412a578181015183820152602001614112565b50506000910152565b6000815180845261414b81602086016020860161410f565b601f01601f19169290920160200192915050565b60ff60f81b8816815260e06020820152600061417e60e0830189614133565b82810360408401526141908189614133565b606084018890526001600160a01b038716608085015260a0840186905283810360c0850152905061369d8185614042565b6000602082840312156141d357600080fd5b81356001600160401b038111156141e957600080fd5b820160c0818503121561265557600080fd5b60006020828403121561420d57600080fd5b5035919050565b6020815265ffffffffffff825116602082015260018060a01b036020830151166040820152600060408301516060808401526108c16080840182614133565b60006020828403121561426557600080fd5b81356001600160401b0381111561427b57600080fd5b82016040818503121561265557600080fd5b600080604083850312156142a057600080fd5b82356142ab816139d2565b91506020830135613ac8816139d2565b60208152815160208201526000602083015160018060a01b038082166040850152806040860151166060850152505060608301516080808401526108c160a0840182614133565b60006080828403121561431457600080fd5b50919050565b60006020828403121561432c57600080fd5b81356001600160401b0381111561434257600080fd5b6108c184828501614302565b60e081016117ea8284613c3c565b60008060006060848603121561437157600080fd5b83356001600160401b0381111561438757600080fd5b61439386828701613d9b565b935050602084013591506040840135613a98816139d2565b6000608082840312156143bd57600080fd5b6126558383614302565b634e487b7160e01b600052601160045260246000fd5b808201808211156117ea576117ea6143c7565b600181811c9082168061440457607f821691505b60208210810361431457634e487b7160e01b600052602260045260246000fd5b601f82111561392357600081815260208120601f850160051c8101602086101561444b5750805b601f850160051c820191505b8181101561446a57828155600101614457565b505050505050565b81516001600160401b0381111561448b5761448b613964565b61449f8161449984546143f0565b84614424565b602080601f8311600181146144d457600084156144bc5750858301515b600019600386901b1c1916600185901b17855561446a565b600085815260208120601f198616915b82811015614503578886015182559484019460019091019084016144e4565b50858210156145215787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b634e487b7160e01b600052603260045260246000fd5b6020808252600a90820152695245454e5452414e435960b01b604082015260600190565b60008235607e1983360301811261458157600080fd5b9190910192915050565b6000808335601e198436030181126145a257600080fd5b8301803591506001600160401b038211156145bc57600080fd5b6020019150600581901b3603821315613b1457600080fd5b60006117ea3683613d9b565b6000808335601e198436030181126145f757600080fd5b8301803591506001600160401b0382111561461157600080fd5b602001915036819003821315613b1457600080fd5b818103818111156117ea576117ea6143c7565b8385823760008482016000815283858237600093019283525090949350505050565b60008161466a5761466a6143c7565b506000190190565b60008235603e1983360301811261458157600080fd5b8183823760009101908152919050565b6000602082840312156146aa57600080fd5b8151612655816139d2565b6000808335601e198436030181126146cc57600080fd5b8301803591506001600160401b038211156146e657600080fd5b6020019150606081023603821315613b1457600080fd5b600082601f83011261470e57600080fd5b8135602061471e613be283613b66565b82815260059290921b8401810191818101908684111561473d57600080fd5b8286015b8481101561477c5780356001600160401b038111156147605760008081fd5b61476e8986838b0101613d2c565b845250918301918301614741565b509695505050505050565b60006080823603121561479957600080fd5b6147a161397a565b823581526020808401356001600160401b03808211156147c057600080fd5b9085019036601f8301126147d357600080fd5b81356147e1613be282613b66565b8181526060918202840185019185820191903684111561480057600080fd5b948601945b838610156148265761481736876139f7565b83529485019491860191614805565b818789015261483760408b016139e7565b6040890152808a013596508487111561484f57600080fd5b61485b36888c016146fd565b908801525094979650505050505050565b600060c0823603121561487e57600080fd5b61488661397a565b8235815261489736602085016139f7565b602082015260808301356148aa816139d2565b604082015260a08301356001600160401b038111156148c857600080fd5b613e0436828601613d2c565b6000606082840312156148e657600080fd5b61265583836139f7565b60006080823603121561490257600080fd5b61490a61397a565b8235815260208301356001600160401b038082111561492857600080fd5b61493436838701613d9b565b602084015260408501359150614949826139d2565b816040840152606085013591508082111561496357600080fd5b50613e0436828601613d2c565b6000835161498281846020880161410f565b60609390931b6001600160601b0319169190920190815260140192915050565b81835281816020850137506000828201602090810191909152601f909101601f19169091010190565b60208082528181018390526000906040808401600586901b8501820187855b88811015614ab557878303603f190184528135368b9003607e19018112614a1057600080fd5b8a0160808135614a1f816139d2565b6001600160a01b0316855265ffffffffffff614a3c838a01613d16565b16888601528682013587860152606080830135601e19843603018112614a6157600080fd5b9092018881019290356001600160401b03811115614a7e57600080fd5b803603841315614a8d57600080fd5b8282880152614a9f83880182866149a2565b978a0197965050509287019250506001016149ea565b509098975050505050505050565b600060208284031215614ad557600080fd5b8151801515811461265557600080fd5b600060208284031215614af757600080fd5b61265582613d16565b60008351614b1281846020880161410f565b835190830190614b2681836020880161410f565b01949350505050565b604081526000614b426040830185613ca1565b8281036020840152610638818561404256fea2646970667358221220497e774063f65b03b9535ffc2c0a00d153997b0413284d689c2814bae7beb30f64736f6c63430008150033";